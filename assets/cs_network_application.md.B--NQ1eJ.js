import{_ as t,c as e,o as a,a4 as l}from"./chunks/framework.CBsUJNCA.js";const r="/assets/b54eeb16-0b0e-484c-be62-306f57c40d77.DSZ2dsPS.jpg",n="/assets/dns.J1QrTcpp.jpg",i="/assets/03f47940-3843-4b51-9e42-5dcaff44858b.BeSvdG02.jpg",s="/assets/be5c2c61-86d2-4dba-a289-b48ea23219de.BB4mnBYW.jpg",d="/assets/23219e4c-9fc0-4051-b33a-2bd95bf054ab.BDBYmU8x.jpg",c="/assets/7b3efa99-d306-4982-8cfb-e7153c33aab4.CV9oLuz2.png",o="/assets/ed5522bb-3a60-481c-8654-43e7195a48fe.DVfW82VK.png",T=JSON.parse('{"title":"域名系统","description":"","frontmatter":{},"headers":[],"relativePath":"cs/network/application.md","filePath":"cs/network/application.md"}'),p={name:"cs/network/application.md"},P=l('<nav class="table-of-contents"><ul><li><a href="#域名解析过程">域名解析过程</a></li><li><a href="#_1-smtp">1. SMTP</a></li><li><a href="#_2-pop3">2. POP3</a></li><li><a href="#_3-imap">3. IMAP</a></li></ul></nav><h1 id="域名系统" tabindex="-1">域名系统 <a class="header-anchor" href="#域名系统" aria-label="Permalink to &quot;域名系统&quot;">​</a></h1><p>DNS 是一个分布式数据库，提供了<mark>主机名和 IP 地址相互转换</mark>的服务。这里的分布式数据库是指，每个站点只保留它自己的那部分数据。</p><p>域名具有层次结构，从上到下依次为：根域名、顶级域名、二级域名。</p><p><img src="'+r+'" alt="avatar"><br></p><p>DNS 可以使用 UDP 或者 TCP 进行传输，使用的端口号都为 53。大多数情况下 DNS 使用 UDP 进行传输，这就要求域名解析器和域名服务器都必须自己处理超时和重传从而保证可靠性。在两种情况下会使用 TCP 进行传输：</p><ul><li>如果返回的响应超过的 512 字节（UDP 最大只支持 512 字节的数据）。</li><li>区域传送（区域传送是主域名服务器向辅助域名服务器传送变化的那部分数据）。</li></ul><h3 id="域名解析过程" tabindex="-1">域名解析过程 <a class="header-anchor" href="#域名解析过程" aria-label="Permalink to &quot;域名解析过程&quot;">​</a></h3><p><img src="'+n+'" alt="image"></p><h1 id="文件传送协议" tabindex="-1">文件传送协议 <a class="header-anchor" href="#文件传送协议" aria-label="Permalink to &quot;文件传送协议&quot;">​</a></h1><p>FTP 使用 TCP 进行连接，它需要两个连接来传送一个文件：</p><ul><li>控制连接：服务器打开端口号 21 等待客户端的连接，客户端主动建立连接后，使用这个连接将客户端的命令传送给服务器，并传回服务器的应答。</li><li>数据连接：用来传送一个文件数据。</li></ul><p>根据数据连接是否是服务器端主动建立，FTP 有主动和被动两种模式：</p><ul><li>主动模式：服务器端主动建立数据连接，其中服务器端的端口号为 20，客户端的端口号随机，但是必须大于 1024，因为 0~1023 是熟知端口号。</li></ul><p><img src="'+i+'" alt="avatar"><br></p><ul><li>被动模式：客户端主动建立数据连接，其中客户端的端口号由客户端自己指定，服务器端的端口号随机。</li></ul><p><img src="'+s+'" alt="avatar"><br></p><p>主动模式要求客户端开放端口号给服务器端，需要去配置客户端的防火墙。被动模式只需要服务器端开放端口号即可，无需客户端配置防火墙。但是被动模式会导致服务器端的安全性减弱，因为开放了过多的端口号。</p><h1 id="动态主机配置协议" tabindex="-1">动态主机配置协议 <a class="header-anchor" href="#动态主机配置协议" aria-label="Permalink to &quot;动态主机配置协议&quot;">​</a></h1><p>DHCP (Dynamic Host Configuration Protocol) 提供了即插即用的连网方式，用户不再需要手动配置 IP 地址等信息。主要用于：</p><ul><li>内部网或网络服务供应商<mark>自动分配IP地址</mark>给用户</li><li>内部网管理员对所有电脑作中央管理</li></ul><p>DHCP 配置的内容不仅是 IP 地址，还包括子网掩码、网关 IP 地址。</p><p>DHCP 工作过程如下（<strong>基于UDP协议</strong>）：</p><ol><li><strong>Discover：</strong> 客户端在物理子网上发送<mark>广播</mark>来寻找可用的服务器。</li></ol><blockquote><p>报文的目的地址为 255.255.255.255:67，源地址为 0.0.0.0:68。如果客户端和 DHCP 服务器不在同一个子网，就需要使用中继代理（本地路由）。</p></blockquote><ol start="2"><li><p><strong>Offer：</strong> DHCP 服务器收到 Discover 报文之后，通过<mark>MAC地址单播</mark>Offer 报文给客户端。</p></li><li><p><strong>Request：</strong> 客户端可能<mark>接收到多个offer</mark>。客户端选择某个 DHCP 服务器提供的信息后，就发送 Request 报文给该 DHCP 服务器并通知其他服务器。</p></li><li><p><strong>Ack：</strong> DHCP 服务器发送 Ack 报文，表示客户端此时可以使用提供给它的信息。</p></li></ol><p><img src="'+d+'" alt="avatar"><br></p><h1 id="远程登录协议" tabindex="-1">远程登录协议 <a class="header-anchor" href="#远程登录协议" aria-label="Permalink to &quot;远程登录协议&quot;">​</a></h1><p>TELNET 用于登录到远程主机上，并且远程主机上的输出也会返回。</p><p>TELNET 可以适应许多计算机和操作系统的差异，例如不同操作系统系统的换行符定义。</p><h1 id="电子邮件协议" tabindex="-1">电子邮件协议 <a class="header-anchor" href="#电子邮件协议" aria-label="Permalink to &quot;电子邮件协议&quot;">​</a></h1><p>一个电子邮件系统由三部分组成：用户代理、邮件服务器以及邮件协议。</p><p>邮件协议包含发送协议和读取协议，发送协议常用 SMTP，读取协议常用 POP3 和 IMAP。</p><p><img src="'+c+'" alt="avatar | 700"><br></p><h2 id="_1-smtp" tabindex="-1">1. SMTP <a class="header-anchor" href="#_1-smtp" aria-label="Permalink to &quot;1. SMTP&quot;">​</a></h2><p>SMTP 只能发送 ASCII 码，而互联网邮件扩充 MIME 可以发送二进制文件。MIME 并没有改动或者取代 SMTP，而是增加邮件主体的结构，定义了非 ASCII 码的编码规则。</p><p><img src="'+o+'" alt="avatar"><br></p><h2 id="_2-pop3" tabindex="-1">2. POP3 <a class="header-anchor" href="#_2-pop3" aria-label="Permalink to &quot;2. POP3&quot;">​</a></h2><p>POP3 的特点是只要用户从服务器上读取了邮件，就把该邮件删除。但最新版本的 POP3 可以不删除邮件。</p><h2 id="_3-imap" tabindex="-1">3. IMAP <a class="header-anchor" href="#_3-imap" aria-label="Permalink to &quot;3. IMAP&quot;">​</a></h2><p>IMAP 协议中客户端和服务器上的邮件保持同步，如果不手动删除邮件，那么服务器上的邮件也不会被删除。IMAP 这种做法可以让用户随时随地去访问服务器上的邮件。</p><h1 id="常用端口" tabindex="-1">常用端口 <a class="header-anchor" href="#常用端口" aria-label="Permalink to &quot;常用端口&quot;">​</a></h1><table><thead><tr><th style="text-align:center;">应用</th><th style="text-align:center;">应用层协议</th><th style="text-align:center;">端口号</th><th style="text-align:center;">传输层协议</th><th style="text-align:center;">备注</th></tr></thead><tbody><tr><td style="text-align:center;">域名解析</td><td style="text-align:center;">DNS</td><td style="text-align:center;">53</td><td style="text-align:center;">UDP/TCP</td><td style="text-align:center;">长度超过 512 字节时使用 TCP</td></tr><tr><td style="text-align:center;">动态主机配置协议</td><td style="text-align:center;">DHCP</td><td style="text-align:center;">67/68</td><td style="text-align:center;">UDP</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">简单网络管理协议</td><td style="text-align:center;">SNMP</td><td style="text-align:center;">161/162</td><td style="text-align:center;">UDP</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">文件传送协议</td><td style="text-align:center;">FTP</td><td style="text-align:center;">20/21</td><td style="text-align:center;">TCP</td><td style="text-align:center;">控制连接 21，数据连接 20</td></tr><tr><td style="text-align:center;">远程终端协议</td><td style="text-align:center;">TELNET</td><td style="text-align:center;">23</td><td style="text-align:center;">TCP</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">超文本传送协议</td><td style="text-align:center;">HTTP</td><td style="text-align:center;">80</td><td style="text-align:center;">TCP</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">简单邮件传送协议</td><td style="text-align:center;">SMTP</td><td style="text-align:center;">25</td><td style="text-align:center;">TCP</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">邮件读取协议</td><td style="text-align:center;">POP3</td><td style="text-align:center;">110</td><td style="text-align:center;">TCP</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">网际报文存取协议</td><td style="text-align:center;">IMAP</td><td style="text-align:center;">143</td><td style="text-align:center;">TCP</td><td style="text-align:center;"></td></tr></tbody></table>',43),g=[P];function h(x,m,y,b,_,u){return a(),e("div",null,g)}const k=t(p,[["render",h]]);export{T as __pageData,k as default};
